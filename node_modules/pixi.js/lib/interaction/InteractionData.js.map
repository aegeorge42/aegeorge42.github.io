{"version":3,"sources":["../../src/interaction/InteractionData.js"],"names":["core","InteractionData","global","Point","target","originalEvent","identifier","isPrimary","button","buttons","width","height","tiltX","tiltY","pointerType","pressure","rotationAngle","twist","tangentialPressure","getLocalPosition","displayObject","point","globalPos","worldTransform","applyInverse","copyEvent","event","Number","isInteger","which","reset"],"mappings":";;;;;;AAAA;;IAAYA,I;;;;;;AAEZ;;;;;;IAMqBC,e;AAEjB;;;AAGA,6BACA;AAAA;;AACI;;;;;AAKA,SAAKC,MAAL,GAAc,IAAIF,KAAKG,KAAT,EAAd;;AAEA;;;;;AAKA,SAAKC,MAAL,GAAc,IAAd;;AAEA;;;;;;;;AAQA,SAAKC,aAAL,GAAqB,IAArB;;AAEA;;;;;AAKA,SAAKC,UAAL,GAAkB,IAAlB;;AAEA;;;;;AAKA,SAAKC,SAAL,GAAiB,KAAjB;;AAEA;;;;;AAKA,SAAKC,MAAL,GAAc,CAAd;;AAEA;;;;;AAKA,SAAKC,OAAL,GAAe,CAAf;;AAEA;;;;;;AAMA,SAAKC,KAAL,GAAa,CAAb;;AAEA;;;;;;AAMA,SAAKC,MAAL,GAAc,CAAd;;AAEA;;;;;AAKA,SAAKC,KAAL,GAAa,CAAb;;AAEA;;;;;AAKA,SAAKC,KAAL,GAAa,CAAb;;AAEA;;;;;AAKA,SAAKC,WAAL,GAAmB,IAAnB;;AAEA;;;;;;AAMA,SAAKC,QAAL,GAAgB,CAAhB;;AAEA;;;;;AAKA,SAAKC,aAAL,GAAqB,CAArB;;AAEA;;;;;AAKA,SAAKC,KAAL,GAAa,CAAb;;AAEA;;;;;AAKA,SAAKC,kBAAL,GAA0B,CAA1B;AACH;;AAED;;;;;;;;AAWA;;;;;;;;;;;;4BAYAC,gB,6BAAiBC,a,EAAeC,K,EAAOC,S,EACvC;AACI,WAAOF,cAAcG,cAAd,CAA6BC,YAA7B,CAA0CF,aAAa,KAAKpB,MAA5D,EAAoEmB,KAApE,CAAP;AACH,G;;AAED;;;;;;;4BAKAI,S,sBAAUC,K,EACV;AACI;AACA;AACA;AACA,QAAIA,MAAMnB,SAAV,EACA;AACI,WAAKA,SAAL,GAAiB,IAAjB;AACH;AACD,SAAKC,MAAL,GAAckB,MAAMlB,MAApB;AACA;AACA;AACA,SAAKC,OAAL,GAAekB,OAAOC,SAAP,CAAiBF,MAAMjB,OAAvB,IAAkCiB,MAAMjB,OAAxC,GAAkDiB,MAAMG,KAAvE;AACA,SAAKnB,KAAL,GAAagB,MAAMhB,KAAnB;AACA,SAAKC,MAAL,GAAce,MAAMf,MAApB;AACA,SAAKC,KAAL,GAAac,MAAMd,KAAnB;AACA,SAAKC,KAAL,GAAaa,MAAMb,KAAnB;AACA,SAAKC,WAAL,GAAmBY,MAAMZ,WAAzB;AACA,SAAKC,QAAL,GAAgBW,MAAMX,QAAtB;AACA,SAAKC,aAAL,GAAqBU,MAAMV,aAA3B;AACA,SAAKC,KAAL,GAAaS,MAAMT,KAAN,IAAe,CAA5B;AACA,SAAKC,kBAAL,GAA0BQ,MAAMR,kBAAN,IAA4B,CAAtD;AACH,G;;AAED;;;;;4BAGAY,K,oBACA;AACI;AACA;AACA,SAAKvB,SAAL,GAAiB,KAAjB;AACH,G;;;;wBA1DD;AACI,aAAO,KAAKD,UAAZ;AACH;;;;;;kBAvIgBL,e","file":"InteractionData.js","sourcesContent":["import * as core from '../core';\n\n/**\n * Holds all information related to an Interaction event\n *\n * @class\n * @memberof PIXI.interaction\n */\nexport default class InteractionData\n{\n    /**\n     *\n     */\n    constructor()\n    {\n        /**\n         * This point stores the global coords of where the touch/mouse event happened\n         *\n         * @member {PIXI.Point}\n         */\n        this.global = new core.Point();\n\n        /**\n         * The target DisplayObject that was interacted with\n         *\n         * @member {PIXI.DisplayObject}\n         */\n        this.target = null;\n\n        /**\n         * When passed to an event handler, this will be the original DOM Event that was captured\n         *\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/TouchEvent\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent\n         * @member {MouseEvent|TouchEvent|PointerEvent}\n         */\n        this.originalEvent = null;\n\n        /**\n         * Unique identifier for this interaction\n         *\n         * @member {number}\n         */\n        this.identifier = null;\n\n        /**\n         * Indicates whether or not the pointer device that created the event is the primary pointer.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/isPrimary\n         * @type {Boolean}\n         */\n        this.isPrimary = false;\n\n        /**\n         * Indicates which button was pressed on the mouse or pointer device to trigger the event.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n         * @type {number}\n         */\n        this.button = 0;\n\n        /**\n         * Indicates which buttons are pressed on the mouse or pointer device when the event is triggered.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/buttons\n         * @type {number}\n         */\n        this.buttons = 0;\n\n        /**\n         * The width of the pointer's contact along the x-axis, measured in CSS pixels.\n         * radiusX of TouchEvents will be represented by this value.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/width\n         * @type {number}\n         */\n        this.width = 0;\n\n        /**\n         * The height of the pointer's contact along the y-axis, measured in CSS pixels.\n         * radiusY of TouchEvents will be represented by this value.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/height\n         * @type {number}\n         */\n        this.height = 0;\n\n        /**\n         * The angle, in degrees, between the pointer device and the screen.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltX\n         * @type {number}\n         */\n        this.tiltX = 0;\n\n        /**\n         * The angle, in degrees, between the pointer device and the screen.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/tiltY\n         * @type {number}\n         */\n        this.tiltY = 0;\n\n        /**\n         * The type of pointer that triggered the event.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerType\n         * @type {string}\n         */\n        this.pointerType = null;\n\n        /**\n         * Pressure applied by the pointing device during the event. A Touch's force property\n         * will be represented by this value.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pressure\n         * @type {number}\n         */\n        this.pressure = 0;\n\n        /**\n         * From TouchEvents (not PointerEvents triggered by touches), the rotationAngle of the Touch.\n         * @see https://developer.mozilla.org/en-US/docs/Web/API/Touch/rotationAngle\n         * @type {number}\n         */\n        this.rotationAngle = 0;\n\n        /**\n         * Twist of a stylus pointer.\n         * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n         * @type {number}\n         */\n        this.twist = 0;\n\n        /**\n         * Barrel pressure on a stylus pointer.\n         * @see https://w3c.github.io/pointerevents/#pointerevent-interface\n         * @type {number}\n         */\n        this.tangentialPressure = 0;\n    }\n\n    /**\n     * The unique identifier of the pointer. It will be the same as `identifier`.\n     * @readonly\n     * @member {number}\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerId\n     */\n    get pointerId()\n    {\n        return this.identifier;\n    }\n\n    /**\n     * This will return the local coordinates of the specified displayObject for this InteractionData\n     *\n     * @param {PIXI.DisplayObject} displayObject - The DisplayObject that you would like the local\n     *  coords off\n     * @param {PIXI.Point} [point] - A Point object in which to store the value, optional (otherwise\n     *  will create a new point)\n     * @param {PIXI.Point} [globalPos] - A Point object containing your custom global coords, optional\n     *  (otherwise will use the current global coords)\n     * @return {PIXI.Point} A point containing the coordinates of the InteractionData position relative\n     *  to the DisplayObject\n     */\n    getLocalPosition(displayObject, point, globalPos)\n    {\n        return displayObject.worldTransform.applyInverse(globalPos || this.global, point);\n    }\n\n    /**\n     * Copies properties from normalized event data.\n     *\n     * @param {Touch|MouseEvent|PointerEvent} event The normalized event data\n     */\n    copyEvent(event)\n    {\n        // isPrimary should only change on touchstart/pointerdown, so we don't want to overwrite\n        // it with \"false\" on later events when our shim for it on touch events might not be\n        // accurate\n        if (event.isPrimary)\n        {\n            this.isPrimary = true;\n        }\n        this.button = event.button;\n        // event.buttons is not available in all browsers (ie. Safari), but it does have a non-standard\n        // event.which property instead, which conveys the same information.\n        this.buttons = Number.isInteger(event.buttons) ? event.buttons : event.which;\n        this.width = event.width;\n        this.height = event.height;\n        this.tiltX = event.tiltX;\n        this.tiltY = event.tiltY;\n        this.pointerType = event.pointerType;\n        this.pressure = event.pressure;\n        this.rotationAngle = event.rotationAngle;\n        this.twist = event.twist || 0;\n        this.tangentialPressure = event.tangentialPressure || 0;\n    }\n\n    /**\n     * Resets the data for pooling.\n     */\n    reset()\n    {\n        // isPrimary is the only property that we really need to reset - everything else is\n        // guaranteed to be overwritten\n        this.isPrimary = false;\n    }\n}\n"]}