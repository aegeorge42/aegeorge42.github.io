{"version":3,"sources":["../../../src/filters/blur/generateBlurVertSource.js"],"names":["generateVertBlurSource","vertTemplate","join","kernelSize","x","halfLength","Math","ceil","vertSource","blurLoop","template","i","blur","replace"],"mappings":";;;kBAgBwBA,sB;AAhBxB,IAAMC,eAAe,CACjB,iCADiB,EAEjB,+BAFiB,EAIjB,yBAJiB,EAKjB,gCALiB,EAOjB,sCAPiB,EASjB,iBATiB,EAUjB,GAViB,EAWjB,qFAXiB,EAYjB,QAZiB,EAajB,GAbiB,EAcnBC,IAdmB,CAcd,IAdc,CAArB;;AAgBe,SAASF,sBAAT,CAAgCG,UAAhC,EAA4CC,CAA5C,EACf;AACI,QAAMC,aAAaC,KAAKC,IAAL,CAAUJ,aAAa,CAAvB,CAAnB;;AAEA,QAAIK,aAAaP,YAAjB;;AAEA,QAAIQ,WAAW,EAAf;AACA,QAAIC,iBAAJ;AACA;;AAEA,QAAIN,CAAJ,EACA;AACIM,mBAAW,gFAAX;AACH,KAHD,MAKA;AACIA,mBAAW,gFAAX;AACH;;AAED,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIR,UAApB,EAAgCQ,GAAhC,EACA;AACI,YAAIC,OAAOF,SAASG,OAAT,CAAiB,SAAjB,EAA4BF,CAA5B,CAAX;;AAEA;;AAEA;AACA;AACA;AACA;;AAEAC,eAAOA,KAAKC,OAAL,CAAa,eAAb,EAAiCF,KAAKN,aAAa,CAAlB,CAAjC,QAAP;;AAEAI,oBAAYG,IAAZ;AACAH,oBAAY,IAAZ;AACH;;AAEDD,iBAAaA,WAAWK,OAAX,CAAmB,QAAnB,EAA6BJ,QAA7B,CAAb;AACAD,iBAAaA,WAAWK,OAAX,CAAmB,QAAnB,EAA6BV,UAA7B,CAAb;;AAEA,WAAOK,UAAP;AACH","file":"generateBlurVertSource.js","sourcesContent":["const vertTemplate = [\n    'attribute vec2 aVertexPosition;',\n    'attribute vec2 aTextureCoord;',\n\n    'uniform float strength;',\n    'uniform mat3 projectionMatrix;',\n\n    'varying vec2 vBlurTexCoords[%size%];',\n\n    'void main(void)',\n    '{',\n    'gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);',\n    '%blur%',\n    '}',\n].join('\\n');\n\nexport default function generateVertBlurSource(kernelSize, x)\n{\n    const halfLength = Math.ceil(kernelSize / 2);\n\n    let vertSource = vertTemplate;\n\n    let blurLoop = '';\n    let template;\n    // let value;\n\n    if (x)\n    {\n        template = 'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);';\n    }\n    else\n    {\n        template = 'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';\n    }\n\n    for (let i = 0; i < kernelSize; i++)\n    {\n        let blur = template.replace('%index%', i);\n\n        // value = i;\n\n        // if(i >= halfLength)\n        // {\n        //     value = kernelSize - i - 1;\n        // }\n\n        blur = blur.replace('%sampleIndex%', `${i - (halfLength - 1)}.0`);\n\n        blurLoop += blur;\n        blurLoop += '\\n';\n    }\n\n    vertSource = vertSource.replace('%blur%', blurLoop);\n    vertSource = vertSource.replace('%size%', kernelSize);\n\n    return vertSource;\n}\n"]}